# Comments System (mini-YouTube Comments)

### Цель

Создать простое веб-приложение "Comments System", позволяющее добавлять комментарии, отвечать на них, лайкать и удалять — используя только DOM API без фреймворков. Данные хранятся в оперативной памяти на клиенте.

---

## Структура проекта

```
Makefile
package.json
README.md
__tests__/
  commands.test.js
src/
  index.html            # страница приложения
  styles.css            # стили
  main.js               # точка входа: обработка формы, подключение модулей
  comments.js           # createComment, createReply, likeComment, deleteComment
  render.js             # renderComment, renderReply
  utils.js              # вспомогательные функции (id-генератор и т.д.)
  components/           # (опционально) разбивка на мелкие компоненты
```

---

## Модель данных

Комментарий:

```js
{ id, text, likes: 0, replies: [] }
```

Ответ:

```js
{ id, parentId, text, likes: 0 }
```

---

### Задачи

1. `createComment(text)`

   - Сигнатура: `createComment(text)`
   - Возвращает новый объект комментария: `{ id, text, likes: 0, replies: [] }`.
   - `id` генерировать с помощью `Date.now()` или счётчика.
   - Не изменять внешние данные.

2. `createReply(parentId, text)`

   - Сигнатура: `createReply(parentId, text)`
   - Возвращает объект ответа: `{ id, parentId, text, likes: 0 }`.
   - Не изменять исходный комментарий.

3. `likeComment(comment)`

   - Сигнатура: `likeComment(comment)`
   - Возвращает новый объект с увеличенным полем `likes`.
   - Не мутировать оригинал.

4. `deleteComment(comments, id)`

   - Сигнатура: `deleteComment(comments, id)`
   - Возвращает новый массив комментариев без комментария с `id` и его ответов.
   - Не изменять входной массив.

5. `renderComment(comment)`

   - Сигнатура: `renderComment(comment)`
   - Возвращает DOM-элемент `<div>` с:
     - текстом комментария
     - кнопкой лайка и счётчиком
     - кнопкой «Удалить»
     - кнопкой «Ответить»
     - контейнером для ответов (класс `.replies`)
   - Использовать только DOM API (`document.createElement`, `append`, `classList`, `addEventListener`).
   - Не использовать `innerHTML`.

6. `renderReply(reply)`

   - Сигнатура: `renderReply(reply)`
   - Возвращает DOM-элемент с текстом ответа, кнопкой лайка и кнопкой удаления.

7. `main.js` интеграция
   - Обработать форму добавления комментариев.
   - Подключить и использовать функции из `comments.js`, `render.js` и `utils.js`.
   - Обновлять DOM точечно (не пересоздавать весь список) при добавлении/удалении/лайке.
   - Поддерживать вложенность ответов не более 1 уровня.

---

### Техничесные требования

- Использовать `const`/`let`; не использовать `var`.
- Все функции — стрелочные.
- Не использовать `innerHTML`.
- Возвращать результат из функций (объект или DOM-элемент), а не изменять внешнее состояние напрямую.
- Минимум один обработчик формы и минимум один обработчик клика.

---

### Поведение и UX

- Пользователь вводит текст в форму и отправляет — создаётся новый комментарий.
- У каждого комментария: кнопка «Лайк» (увеличивает счётчик), «Удалить», «Ответить».
- При нажатии «Ответить» показывается поле для ввода ответа и кнопка отправки; ответ отображается в контейнере `.replies` под соответствующим комментарием.
- Удаление удаляет комментарий и его ответы.
- Обновления в DOM происходят локально (точечные изменения), без полной перерисовки списка.

---

### Ограничения и рекомендации

- Вложенность комментариев ограничена 1 уровнем (комментарии → ответы).
- Не использовать сторонние библиотеки.
- Для `id` используйте `Date.now()` или простой инкрементный счётчик в `utils.js`.
- В `deleteComment` удаляйте связанные ответы по `parentId`.
